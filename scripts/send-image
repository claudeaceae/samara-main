#!/bin/bash
# send-image: Send image/file attachment to collaborator
#
# Wrapper around send-attachment for the common case of sending to collaborator.
# Uses Pictures folder workaround (discovered 2025-12-21).
#
# Usage: send-image /path/to/file

MIND_PATH="${SAMARA_MIND_PATH:-${MIND_PATH:-$HOME/.claude-mind}}"

# Load config (required)
source "$MIND_PATH/system/lib/config.sh" 2>/dev/null || source "$MIND_PATH/system/lib/config.sh" 2>/dev/null || {
    echo "Error: config.sh not found" >&2
    exit 1
}

if [ -z "$COLLABORATOR_PHONE" ]; then
    echo "Error: COLLABORATOR_PHONE not set in config.json" >&2
    exit 1
fi

if [ -z "$1" ]; then
    echo "Usage: send-image /path/to/file"
    exit 1
fi

"$MIND_PATH/system/bin/send-attachment" "$1" "$COLLABORATOR_PHONE"
